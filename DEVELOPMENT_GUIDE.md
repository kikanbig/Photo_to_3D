# Руководство по разработке Photo_to_3D

## Обзор проекта
Веб-сервис/Telegram bot для генерации 3D моделей из фотографий с монетизацией.

## Технический стек
- **Backend**: Python (FastAPI/Flask)
- **3D Generation**: Microsoft TRELLIS
- **Deployment**: Railway
- **Version Control**: GitHub
- **Monetization**: Stripe/PayPal + подписки

## Рабочий процесс

### 1. Виртуальное окружение
```bash
# Активация окружения
source venv/bin/activate

# Деактивация
deactivate
```

### 2. Git workflow
```bash
# Проверка статуса
git status

# Добавление изменений
git add .

# Коммит с описанием
git commit -m "feat: описание изменений"

# Пуш в GitHub
git push origin main
```

### 3. Railway deployment
- Автоматический деплой при пуше в main ветку
- Переменные окружения настраиваются в Railway dashboard
- Логи доступны в Railway console

## Структура проекта
```
Photo_to_3D/
├── venv/                    # Виртуальное окружение
├── app/                     # Основное приложение
│   ├── models/             # 3D модели и TRELLIS интеграция
│   ├── api/                # API endpoints
│   ├── services/           # Бизнес-логика
│   └── utils/              # Утилиты
├── tests/                  # Тесты
├── requirements.txt        # Зависимости
├── railway.json           # Конфигурация Railway
├── .gitignore             # Git ignore
└── README.md              # Документация
```

## Правила разработки

### 1. Код
- ✅ Всегда проверяй код перед коммитом
- ✅ Используй type hints
- ✅ Покрывай тестами критическую функциональность
- ✅ Документируй API endpoints
- ❌ Не коммить без тестирования
- ❌ Не оставляй TODO без описания

### 2. Git
- ✅ Коммиты с понятными сообщениями
- ✅ Используй conventional commits (feat:, fix:, docs:)
- ✅ Создавай feature branches для больших изменений
- ❌ Не коммить .env файлы
- ❌ Не коммить большие файлы (>100MB)

### 3. Railway
- ✅ Проверяй логи после деплоя
- ✅ Тестируй на staging перед production
- ✅ Мониторь использование ресурсов
- ❌ Не деплоить без тестирования локально

## Монетизация

### Модели оплаты
1. **Pay-per-use**: Оплата за каждую генерацию
2. **Subscription**: Месячная/годовая подписка
3. **Credits**: Система кредитов

### Интеграции
- Stripe для обработки платежей
- Webhook для обновления статуса подписки
- Rate limiting для предотвращения злоупотреблений

## Безопасность
- API ключи только в переменных окружения
- Валидация входных данных
- Rate limiting
- Логирование всех операций
- HTTPS только

## Мониторинг
- Логи Railway
- Метрики использования
- Ошибки и исключения
- Производительность генерации 3D

## Контакты
- GitHub: [ваш аккаунт]
- Railway: [ваш проект]
- Email: [ваш email]
